(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[12],{"1O7a":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var antd_mobile_es_button_style__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("XGli"),antd_mobile_es_button__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("NHyu"),antd_mobile_es_toast_style__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("HVTF"),antd_mobile_es_toast__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("OT5E"),D_workSpace_yellowbook_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("o0o1"),D_workSpace_yellowbook_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(D_workSpace_yellowbook_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4__),D_workSpace_yellowbook_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("HaE+"),react__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("q1tI"),react__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_6__),react_redux__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("/MKj"),_api__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("Nlzp"),_components_Header__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("rY4l"),_login_login_less__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("BlK4"),_login_login_less__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(_login_login_less__WEBPACK_IMPORTED_MODULE_10__),_components_Input__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("/P0+"),timerClear;class Login extends react__WEBPACK_IMPORTED_MODULE_6__["Component"]{constructor(_){var e;super(_),e=this,this.bindValue=_=>(e,t)=>{var a={},r=this.state.verifyData;a[_]=e,r[_]=t,a["verifyData"]=r,this.setState(a)},this.handleSendCode=Object(D_workSpace_yellowbook_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5__["a"])(D_workSpace_yellowbook_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.mark((function _(){var t;return D_workSpace_yellowbook_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.wrap((function(_){while(1)switch(_.prev=_.next){case 0:if(!e.time){_.next=2;break}return _.abrupt("return");case 2:return _.next=4,Object(_api__WEBPACK_IMPORTED_MODULE_8__["c"])({phone:e.state.phone,codeType:3});case 4:t=_.sent,t&&e.timer(60);case 6:case"end":return _.stop()}}),_)}))),this.timer=_=>{_>0?(_--,this.time=_,this.setState({time:_}),timerClear=setTimeout(()=>this.timer(_),1e3)):timerClear&&(clearTimeout(timerClear),timerClear=null)},this.NextStep=Object(D_workSpace_yellowbook_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5__["a"])(D_workSpace_yellowbook_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.mark((function _(){var t,a,r,n;return D_workSpace_yellowbook_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.wrap((function(_){while(1)switch(_.prev=_.next){case 0:return t=e.state,a=t.phone,r=t.code,_.next=3,Object(_api__WEBPACK_IMPORTED_MODULE_8__["f"])({phone:a,code:r,step:1});case 3:n=_.sent,n&&e.setState({page:2});case 5:case"end":return _.stop()}}),_)}))),this.Submit=Object(D_workSpace_yellowbook_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5__["a"])(D_workSpace_yellowbook_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.mark((function _(){var t,a,r,n,o;return D_workSpace_yellowbook_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.wrap((function(_){while(1)switch(_.prev=_.next){case 0:if(t=e.state,a=t.phone,r=t.newPass,n=t.confirm_newpass,r===n){_.next=3;break}return _.abrupt("return",antd_mobile_es_toast__WEBPACK_IMPORTED_MODULE_3__["a"].info("\u4e24\u6b21\u8f93\u5165\u5bc6\u7801\u4e0d\u4e00\u81f4"));case 3:return _.next=5,Object(_api__WEBPACK_IMPORTED_MODULE_8__["f"])({phone:a,newPass:r,step:2});case 5:o=_.sent,o&&e.setState({page:3});case 7:case"end":return _.stop()}}),_)}))),this.state={page:1,phone:"",code:"",newPass:"",confirm_newpass:"",verifyData:{},time:0}}UNSAFE_componentWillMount(){}getVerifyCode(_){var e=this;return Object(D_workSpace_yellowbook_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5__["a"])(D_workSpace_yellowbook_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.mark((function t(){var a;return D_workSpace_yellowbook_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,VerifyCode({phone:_,codeType:2});case 2:a=t.sent,a&&e.setState({verifyImg:a.data});case 4:case"end":return t.stop()}}),t)})))()}componentWillUnmount(){clearTimeout(timerClear)}render(){var _this$state3=this.state,phone=_this$state3.phone,code=_this$state3.code,newPass=_this$state3.newPass,confirm_newpass=_this$state3.confirm_newpass,time=_this$state3.time,page=_this$state3.page,verifyData=_this$state3.verifyData;return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_6___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_components_Header__WEBPACK_IMPORTED_MODULE_9__["a"],{title:"\u5fd8\u8bb0\u5bc6\u7801"}),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("form",{className:"loginAndRegister"},react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("p",null,"\u901a\u8fc7\u8d26\u6237\u7ed1\u5b9a\u7684\u624b\u673a\u53f7\u627e\u56de\u5bc6\u7801"),1==page&&react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div",{className:"itemli"},react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("p",null,"\u624b\u673a\u53f7\u7801"),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_components_Input__WEBPACK_IMPORTED_MODULE_11__["a"],{value:phone,bindValue:this.bindValue("phone"),placeholder:"\u624b\u673a\u53f7\u7801",required:!0,reg:/^[1](([3][0-9])|([4][5-9])|([5][0-3,5-9])|([6][5,6])|([7][2-9])|([8][0-9])|([9][1,8,9]))[0-9]{8}$/,errorMag:"\u65e0\u6548\u7684\u624b\u673a\u53f7\u7801",className:"input"})),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div",{className:"itemli"},react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("p",null,"\u9a8c\u8bc1\u7801"),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_components_Input__WEBPACK_IMPORTED_MODULE_11__["a"],{value:code,bindValue:this.bindValue("code"),required:!0,placeholder:"\u624b\u673a\u9a8c\u8bc1\u7801",reg:/\d{4}$/,className:"input"}),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(antd_mobile_es_button__WEBPACK_IMPORTED_MODULE_1__["a"],{onClick:this.handleSendCode,type:"primary",size:"small",className:"sendCode",inline:!0,disabled:2!=verifyData.phone||time},time?"\u91cd\u65b0\u53d1\u9001("+time+")":"\u53d1\u9001\u9a8c\u8bc1\u7801")),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div",{className:"nextStep"},react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(antd_mobile_es_button__WEBPACK_IMPORTED_MODULE_1__["a"],{type:"primary",onClick:this.NextStep,disabled:!(2==verifyData.phone&&2==verifyData.code)},"\u4e0b\u4e00\u6b65"))),2==page&&react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div",{className:"itemli"},react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("p",null,"\u65b0\u5bc6\u7801"),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_components_Input__WEBPACK_IMPORTED_MODULE_11__["a"],{value:newPass,bindValue:this.bindValue("newPass"),placeholder:"\u8bf7\u8f93\u51656-32\u4e2a\u5b57\u6bcd\u6570\u5b57\u7ec4\u5408\u7684\u5bc6\u7801",password:!0,required:!0,reg:/^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]{6,32}$/,errorMag:"\u5bc6\u7801\u683c\u5f0f\u4e0d\u6b63\u786e",className:"input"})),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div",{className:"itemli"},react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("p",null,"\u786e\u8ba4\u65b0\u5bc6\u7801"),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_components_Input__WEBPACK_IMPORTED_MODULE_11__["a"],{value:confirm_newpass,bindValue:this.bindValue("confirm_newpass"),placeholder:"\u786e\u8ba4\u65b0\u5bc6\u7801",password:!0,required:!0,reg:eval("/^".concat(newPass,"$/")),errorMag:"\u4e24\u6b21\u586b\u5199\u7684\u5bc6\u7801\u8981\u4e00\u81f4",className:"input"})),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(antd_mobile_es_button__WEBPACK_IMPORTED_MODULE_1__["a"],{type:"primary",onClick:this.Submit,disabled:!(2==verifyData.newPass&&2==verifyData.confirm_newpass)},"\u786e\u8ba4")),3==page&&react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div",{className:"resetsuccess"},"\u5bc6\u7801\u91cd\u7f6e\u6210\u529f\uff0c\u8bf7\u60a8\u7262\u8bb0\u5bc6\u7801")))}}function mapStateToProps(_){return{}}__webpack_exports__["default"]=Object(react_redux__WEBPACK_IMPORTED_MODULE_7__["b"])(mapStateToProps)(Login)},"7J8+":function(_,e,t){var a=t("JPst");e=a(!1),e.push([_.i,'.loginAndRegister {\n  padding: 0 5.3333333vw;\n}[data-rem="true"] .loginAndRegister {\n  padding: 0 0.5333333rem\n}\n.itemli {\n  position: relative;\n}\n.itemli img,\n.itemli .sendCode {\n  position: absolute!important;\n  right: 0;\n  bottom: 6.6666667vw;\n}[data-rem="true"] .itemli img, [data-rem="true"] .itemli .sendCode {\n  bottom: 0.6666667rem\n}\n.input {\n  width: 100%;\n  height: 8vw;\n  outline: none;\n  border: 0;\n  border-bottom: 1px solid #ccc;\n  padding: 0 2.6666667vw;\n}[data-rem="true"] .input {\n  height: 0.8rem;\n  border-bottom: 1px solid #ccc;\n  padding: 0 0.2666667rem\n}\n.nextStep {\n  margin-top: 13.3333333vw;\n}[data-rem="true"] .nextStep {\n  margin-top: 1.3333333rem\n}\n',""]),_.exports=e},BlK4:function(_,e,t){var a=t("LboF"),r=t("7J8+");r=r.__esModule?r.default:r,"string"===typeof r&&(r=[[_.i,r,""]]);var n={base:0,insert:"head",singleton:!1},o=(a(r,n),r.locals?r.locals:{});_.exports=o}}]);