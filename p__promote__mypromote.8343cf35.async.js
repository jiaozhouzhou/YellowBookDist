(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[32],{"6ua7":function(e,t,a){"use strict";a("UzV/");var n=a("vLen"),r=a("q1tI"),s=a.n(r);class o extends r["Component"]{constructor(e){super(e),this._OnEndReached=()=>{this.setState({isEnd:!0}),this.props.onEndReached&&this.props.onEndReached()},this._RenderFooter=()=>{var e=this.props,t=e.dataSource,a=e.nomore;return 0==t.length?s.a.createElement("div",{style:{textAlign:"center"}},"\u6682\u65e0\u6570\u636e"):this.state.isEnd?s.a.createElement("div",{style:{textAlign:"center"}},a?"\u6ca1\u6709\u66f4\u591a\u4e86~":"\u52a0\u8f7d\u66f4\u591a\u4e2d..."):void 0},this.state={isEnd:!1},this.ds=new n["a"].DataSource({getRowData:(e,t)=>e[t],rowHasChanged:(e,t)=>e!==t})}UNSAFE_componentWillMount(){}render(){var e=this.props,t=e.className,a=e.dataSource,r=e.renderRow,o=e.renderHeader,l=a.map((e,t)=>t);return this.ds=this.ds.cloneWithRows(a,l),s.a.createElement(n["a"],{className:t,ref:e=>this.lv=e,dataSource:this.ds,renderHeader:o,renderRow:r,renderFooter:this._RenderFooter,pageSize:4,onScroll:()=>{console.log("scroll")},scrollRenderAheadDistance:500,onEndReached:this._OnEndReached,onEndReachedThreshold:10,style:{flex:1}})}}o.defaultProps={nomore:!1,loading:!1,dataSource:[],renderSeparator:()=>s.a.createElement("div",{className:"line"})},t["a"]=o},iE7w:function(e,t,a){"use strict";a.r(t);var n=a("o0o1"),r=a.n(n),s=a("HaE+"),o=a("q1tI"),l=a.n(o),c=a("/MKj"),i=a("Nlzp"),d=a("rY4l"),p=a("6ua7");a("+wk1");class m extends o["Component"]{constructor(e){var t;super(e),t=this,this.getDateByFilter=function(){var e=Object(s["a"])(r.a.mark((function e(a){var n,s,o,l;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.props.match.params,s=n.title,o=n.typeId,e.next=3,Object(i["r"])({pageNum:a,pageSize:20,playType:s,typeId:o});case 3:l=e.sent,l&&(t._data=t._data.concat(l.data.pageData),t.setState({dataSource:t._data,totalpage:Math.ceil(l.data.total/20),pageNum:a+1}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.onEndReached=e=>{var t=this.state,a=t.pageNum,n=t.totalpage;a<=n?(console.log(333,"\u7ee7\u7eed\u8bf7\u6c42\u6570\u636e",a,n),this.getDateByFilter(a)):(console.log(333,"\u6ca1\u6709\u6570\u636e\u4e86",a,n),this.setState({nomore:!0}))},this.GoTo=e=>()=>{this.props.history.push(e)},this.row=(e,t,a)=>{var n=e[a];return l.a.createElement("p",{className:"promote_table"},l.a.createElement("span",null,n.nickName),l.a.createElement("span",null,n.phone),l.a.createElement("span",null,n.regTime))},this.state={dataSource:[],nomore:!1,pageNum:1,totalpage:1},this._data=[]}UNSAFE_componentWillMount(){this.getDateByFilter(1)}render(){var e=this.state,t=e.dataSource,a=e.nomore,n=this.props.userInfo;return l.a.createElement(l.a.Fragment,null,l.a.createElement(d["a"],{title:"\u6211\u7684\u63a8\u5e7f"}),l.a.createElement("div",{className:"promote_gray"},l.a.createElement("div",{className:"promote_total"},l.a.createElement("div",{className:"avatar",style:{backgroundImage:n.avatar?"url(".concat(n.avatar,")"):void 0}}),l.a.createElement("p",{className:"line_con"},n.nickName||"\u6682\u65e0\u6635\u79f0"),l.a.createElement("div",{className:"num"},t.length),l.a.createElement("p",{className:"line_con"},"\u63a8\u5e7f\u603b\u4eba\u6570")),l.a.createElement("div",{className:"promote_table promote_title"},l.a.createElement("span",null,"\u53d7\u9080\u7528\u6237\u6635\u79f0"),l.a.createElement("span",null,"\u624b\u673a\u53f7"),l.a.createElement("span",null,"\u6ce8\u518c\u65f6\u95f4"))),l.a.createElement(p["a"],{className:"promoteList",dataSource:t,renderRow:this.row,onEndReached:this.onEndReached,nomore:a}))}}function u(e){return{userInfo:e.user.userInfo}}t["default"]=Object(c["b"])(u)(m)}}]);