(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[13],{CEXA:function(e,t,a){"use strict";a.r(t);var n=a("o0o1"),r=a.n(n),s=a("HaE+"),i=a("q1tI"),c=a.n(i),l=a("Nlzp"),o=a("/MKj"),p=a("rY4l"),m=a("55Ip");a("yj8g");class u extends i["Component"]{constructor(e){var t;super(e),t=this,this.getDateByFilter=function(){var e=Object(s["a"])(r.a.mark((function e(a){return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.refs.cvs.scrollTop=0,t.setState({pageNum:a,content:t.filter(t._data[a-1])});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.Pagination=e=>()=>{var t=this.state,a=t.pageNum,n=t.totalpage;if((1!=a||"prev"!=e)&&(a!=n||"next"!=e)){if("prev"==e)return this.getDateByFilter(--a);if("next"==e)return this.getDateByFilter(++a);var r=parseInt(this.refs.jump.value);"jump"==e&&r&&r>0&&r<=n&&r!==a&&this.getDateByFilter(r)}},this.state={dataSource:{},currentTag:{},pageNum:1,totalpage:1},this._data=null}UNSAFE_componentWillMount(){var e=this;return Object(s["a"])(r.a.mark((function t(){var a,n,s,i,c;return r.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.props.match.params,n=a.typeId,s=a.pid,t.next=3,Object(l["e"])({typeId:n,pid:s});case 3:i=t.sent,i&&(c=e.props.fictionType.find(e=>e.id===n),e._data=i.data.pageData,e.setState({dataSource:i.data.pageData[0],content:e.filter(i.data.pageData[0]),totalpage:i.data.total,currentTag:c}));case 5:case"end":return t.stop()}}),t)})))()}filter(e){var t=e.content.split(/([.\n\r]+)/i);return t[t.length-1].indexOf("\u5206\u9875")>-1&&t[t.length-3].indexOf("\u9875\uff1a")>-1&&(t.splice(t.length-1,t.length),t.splice(t.length-3,t.length)),t.join("")}render(){var e=this.state,t=e.dataSource,a=e.currentTag,n=e.content,r=this.props.match.params.typeId;return c.a.createElement(c.a.Fragment,null,c.a.createElement(p["a"],{title:"\u7cbe\u5f69\u5c0f\u8bf4",hidLift:!0}),c.a.createElement("div",{className:"book_detail"},c.a.createElement("p",{className:"route"},c.a.createElement("span",null,"\u6240\u5728\u4f4d\u7f6e\uff1a"),c.a.createElement(m["Link"],{to:"/book",className:"font_orange"},"\u5c0f\u8bf4"),"/",c.a.createElement(m["Link"],{to:"/bookList/"+r,className:"font_orange"},a.typeName),"/",c.a.createElement("span",{to:"/book"},t.title)),c.a.createElement("p",{className:"book_tit"},t.title),c.a.createElement("p",{className:"other"},c.a.createElement("span",null,t.creatTime,"\u2003by"),c.a.createElement("span",{className:"font_orange Author"},"XIAO KUAI BO"))),c.a.createElement("div",{className:"cvs book_content",ref:"cvs"},c.a.createElement("p",null,n),c.a.createElement("div",{className:"Pagination"},c.a.createElement("div",{className:"btn prev",onClick:this.Pagination("prev")},"\u4e0a\u4e00\u9875"),c.a.createElement("div",{className:"btn next",onClick:this.Pagination("next")},"\u4e0b\u4e00\u9875"),c.a.createElement("div",{className:"btn jump"},c.a.createElement("input",{ref:"jump",type:"text",placeholder:"\u8f93\u5165\u9875\u6570"}),c.a.createElement("div",{className:"submit",onClick:this.Pagination("jump")},"\u8df3\u8f6c")),c.a.createElement("p",{className:"location"},"\u5f53\u524d\u6240\u5728\uff1a\u7b2c",c.a.createElement("span",{className:"font_orange"},this.state.pageNum),"\u9875/",this.state.totalpage,"\u9875"))))}}function g(e){var t=e.config.moduleCfg&&e.config.moduleCfg.fictionType;return{fictionType:t||[]}}t["default"]=Object(o["b"])(g)(u)}}]);